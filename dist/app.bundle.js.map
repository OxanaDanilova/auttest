{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/fillUnit.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","fillUnit","x","y","ctx","beginPath","fillRect","fill","prevColor","currentColor","matrix","console","log","canv","document","getElementsByClassName","getContext","height","width","addEventListener","clearRect","paintBtn","pickBtn","penBtn","localStorage","getItem","cl","classList","toggle","parentElement","add","resizePhoto","randomImg","wImg","hImg","ratio","drawImage","getCanvas","dataURL","img","Image","crossOrigin","onload","src","paintMode","setItem","colPickerMode","event","stopPropagation","penMode","curColorBtn","style","backgroundColor","getComputedStyle","prevColorBtn","temp","this","target","computedStyle","window","mat128Btn","mat256Btn","mat512Btn","setMatrix","x0","y0","x1","y1","drawing","fillStyle","undefined","toDataURL","Math","ceil","pageX","offsetLeft","pageY","offsetTop","startx","endx","starty","endy","canvas","deltax","abs","deltay","error","deltaerr","missedY","diry","missedX","dirx","BrezAlg","pixel","getImageData","data","red","green","blue","getElementById","searchText","url","fetch","then","res","json","urls","small","imageData","length","avg","putImageData","main"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/* eslint-disable consistent-return */\n// const defineStartX = require('./defineStartX');\n// const defineStartY = require('./defineStartY');\n\nexport default function fillUnit(x, y, ctx) { // color part matrix\n  // const startX = (x - 1) * matrix;\n//  const startY = (y - 1) * matrix;\n  // eslint-disable-next-line no-console\n  ctx.beginPath();\n  ctx.fillRect(x, y, 1, 1);\n  ctx.fill();\n}\n","/* eslint-disable no-unused-vars */\n/* eslint-disable no-console */\nimport fillUnit from './fillUnit';\n\nconst main = () => {\n  let matrix = 1;\n\n  console.log(matrix);\n  let mode;\n  let prevColor;\n  let currentColor;\n  // let matrix = 4;\n\n  const canv = document.getElementsByClassName('myCanvas')[0];\n  const ctx = canv.getContext('2d');\n  console.log('canvas size', canv.height, canv.width);\n\n  // Clear Canvas/////////////////\n  const clear = document.getElementsByClassName('clear')[0];\n  const clearCanvas = () => {\n    ctx.clearRect(0, 0, canv.width, canv.height);\n  };\n  clear.addEventListener('click', clearCanvas);\n\n  // //////////////Work with tools//////////////\n  const paintBtn = document.getElementsByClassName('paint-btn')[0];\n  const pickBtn = document.getElementsByClassName('pick-btn')[0];\n  const penBtn = document.getElementsByClassName('pen-btn')[0];\n\n  if (localStorage.getItem('mode')) {\n    mode = localStorage.getItem('mode');\n    if (localStorage.getItem('selected')) {\n      const cl = localStorage.getItem('selected');\n      document.getElementsByClassName('clicked')[0].classList.toggle('clicked');\n      document.getElementsByClassName(cl)[0].parentElement.classList.toggle('clicked');\n    }\n  } else {\n    mode = 'pen';\n    penBtn.classList.add('clicked');\n  }\n  /*   if (localStorage.getItem('canvas')) { // get Canvas image from local Storage\n    const dataURL = localStorage.getItem('canvas');\n    const img = new Image();\n    img.src = dataURL;\n    console.log('url', dataURL);\n    img.onload = function load() {\n      ctx.drawImage(img, 0, 0, canv.width, canv.height);\n    };\n  } */\n\n  const resizePhoto = (randomImg) => {\n    let wImg = randomImg.width;\n    let hImg = randomImg.height;\n    const ratio = wImg / hImg;\n    console.log('w', wImg);\n    console.log('h', hImg);\n    if (ratio > 1) {\n      wImg = canv.width;\n      hImg = wImg / ratio;\n      ctx.drawImage(randomImg, 0, (canv.height - hImg) / 2, canv.width, hImg);\n    } else if (ratio < 1) {\n      hImg = canv.height;\n      wImg = ratio * hImg;\n      ctx.drawImage(randomImg, (canv.width - wImg) / 2, 0, wImg, canv.height);\n    } else if (ratio === 1) {\n      ctx.drawImage(randomImg, 0, 0, canv.width, canv.height);\n    }\n  };\n\n  const getCanvas = () => {\n    if (localStorage.getItem('canvas')) { // get Canvas image from local Storage\n      const dataURL = localStorage.getItem('canvas');\n      const img = new Image();\n      img.crossOrigin = 'Anonymous';\n      img.onload = function load() {\n        resizePhoto(img);\n      };\n      img.src = dataURL;\n      console.log('url', dataURL);\n    }\n  };\n\n  getCanvas();\n\n\n  const paintMode = () => {\n    mode = 'paint';\n    document.getElementsByClassName('clicked')[0].classList.toggle('clicked');\n    paintBtn.parentElement.classList.add('clicked');\n    localStorage.setItem('mode', 'paint');\n    localStorage.setItem('selected', 'paint-btn');\n  };\n\n  const colPickerMode = (event) => {\n    mode = 'colPicker';\n    document.getElementsByClassName('clicked')[0].classList.toggle('clicked');\n    pickBtn.parentElement.classList.add('clicked');\n    event.stopPropagation(); // for correct displaying current color\n    localStorage.setItem('mode', 'colPicker');\n    localStorage.setItem('selected', 'pick-btn');\n  };\n\n  const penMode = () => {\n    mode = 'pen';\n    document.getElementsByClassName('clicked')[0].classList.toggle('clicked');\n    penBtn.parentElement.classList.add('clicked');\n    localStorage.setItem('mode', 'pen');\n    localStorage.setItem('selected', 'pen-btn');\n  };\n\n\n  pickBtn.addEventListener('click', colPickerMode);\n  penBtn.addEventListener('click', penMode);\n  paintBtn.addEventListener('click', paintMode);\n\n  // ///////////Colors////////////////////////\n  const curColorBtn = document.getElementsByClassName('cur-col-btn')[0];\n\n  if (localStorage.getItem('currentColor')) { // take current color from Local storage\n    currentColor = localStorage.getItem('currentColor');\n    curColorBtn.style.backgroundColor = currentColor;\n  } else {\n    currentColor = getComputedStyle(curColorBtn).backgroundColor;\n  }\n\n\n  const prevColorBtn = document.getElementsByClassName('prev-col-btn')[0];\n\n\n  function getColor() {\n    const temp = currentColor;\n    currentColor = this.value;\n    curColorBtn.style.backgroundColor = currentColor;\n    prevColorBtn.style.backgroundColor = temp;\n    prevColor = temp;\n    localStorage.setItem('currentColor', currentColor);\n    localStorage.setItem('prevColor', prevColor);\n  }\n\n  curColorBtn.addEventListener('input', getColor);\n\n  if (localStorage.getItem('prevColor')) { // take prev color from Local storage\n    prevColor = localStorage.getItem('prevColor');\n    prevColorBtn.style.backgroundColor = prevColor;\n  } else {\n    prevColor = getComputedStyle(prevColorBtn).backgroundColor;\n  }\n\n  const redBtn = document.getElementsByClassName('red-btn')[0];\n  const getRed = () => {\n    if (mode === 'colPicker') { return; }\n    const temp = currentColor;\n    currentColor = '#ff0000';\n    curColorBtn.style.backgroundColor = currentColor;\n    prevColor = temp;\n    prevColorBtn.style.backgroundColor = temp;\n    localStorage.setItem('currentColor', currentColor);\n    localStorage.setItem('prevColor', prevColor);\n  };\n  redBtn.addEventListener('click', getRed);\n\n\n  const blueBtn = document.getElementsByClassName('blue-btn')[0];\n  const getBlue = () => {\n    if (mode === 'colPicker') { return; }\n    const temp = currentColor;\n    currentColor = '#41b6f7';\n    curColorBtn.style.backgroundColor = currentColor;\n    prevColorBtn.style.backgroundColor = temp;\n    prevColor = temp;\n    localStorage.setItem('currentColor', currentColor);\n    localStorage.setItem('prevColor', prevColor);\n  };\n  blueBtn.addEventListener('click', getBlue);\n\n\n  // /Pick color from canvas//////\n\n  function pickColor(event) {\n    const temp = currentColor;\n    if (mode === 'colPicker') {\n      const x0 = Math.ceil((event.pageX - canv.offsetLeft) / matrix);\n      const y0 = Math.ceil((event.pageY - canv.offsetTop) / matrix);\n      const imageData = ctx.getImageData(x0, y0, 1, 1);\n      const pixel = imageData.data;\n      const red = pixel[0];\n      const green = pixel[1];\n      const blue = pixel[2];\n      if (pixel[3] === 0) { // define pixel color from not-colored area\n        currentColor = 'RGBA(245,245,220,1)'; // canvas.backgroundColor\n        curColorBtn.style.backgroundColor = currentColor;\n        prevColorBtn.style.backgroundColor = temp;\n        prevColor = temp;\n        localStorage.setItem('currentColor', currentColor);\n        localStorage.setItem('prevColor', prevColor);\n      } else {\n        currentColor = `RGB(${red},${green},${blue})`;\n        curColorBtn.style.backgroundColor = currentColor;\n        prevColorBtn.style.backgroundColor = temp;\n        prevColor = temp;\n        localStorage.setItem('currentColor', currentColor);\n        localStorage.setItem('prevColor', prevColor);\n      }\n    }\n  }\n\n  // / Pick color from all Document except Canvas  ///////////////////////\n  const clickEvent = (event) => {\n    if (mode === 'colPicker' && event.target !== canv) {\n      const temp = currentColor;\n      const computedStyle = window.getComputedStyle(event.target);\n      currentColor = computedStyle.backgroundColor;\n      curColorBtn.style.backgroundColor = currentColor;\n      prevColorBtn.style.backgroundColor = temp;\n      prevColor = temp;\n      localStorage.setItem('currentColor', currentColor);\n      localStorage.setItem('prevColor', prevColor);\n    }\n  };\n\n  document.addEventListener('click', clickEvent);\n\n  // ///////////Matrix//////////////////////\n  const mat128Btn = document.getElementsByClassName('matrix128')[0];\n  const mat256Btn = document.getElementsByClassName('matrix256')[0];\n  const mat512Btn = document.getElementsByClassName('matrix512')[0];\n\n  // eslint-disable-next-line no-unused-vars\n  const setMatrix = (event) => {\n    if (event.target === mat128Btn) {\n      matrix = 4;\n      document.getElementsByClassName('selected')[0].classList.toggle('selected');\n      mat128Btn.classList.add('selected');\n      canv.height = 128;\n      canv.width = 128;\n      /*  let data =  */getCanvas();\n      // resizePhoto(data);\n    }\n    if (event.target === mat256Btn) {\n      matrix = 2;\n      document.getElementsByClassName('selected')[0].classList.toggle('selected');\n      mat256Btn.classList.add('selected');\n      canv.height = 256;\n      canv.width = 256;\n      /* let data = */ getCanvas();\n      //  resizePhoto(data);\n    }\n    if (event.target === mat512Btn) {\n      matrix = 1;\n      document.getElementsByClassName('selected')[0].classList.toggle('selected');\n      mat512Btn.classList.add('selected');\n      canv.height = 512;\n      canv.width = 512;\n      /* let data =  */getCanvas();\n    /*   resizePhoto(data); */\n    }\n    console.log('canvas size', canv.height, canv.width);\n  };\n\n  mat128Btn.addEventListener('click', setMatrix);\n\n  mat256Btn.addEventListener('click', setMatrix);\n\n  mat512Btn.addEventListener('click', setMatrix);\n\n\n  // ///////////Drawing////////////////////////////\n  let drawing = false;\n  let userUnitX;\n  let userUnitY;\n  let x0;\n  let y0;\n  let x1;\n  let y1;\n  const startDrawing = () => {\n    ctx.fillStyle = currentColor;\n    if (mode === 'paint') {\n      drawing = true;\n      ctx.fillRect(0, 0, canv.width, canv.height);\n    }\n\n    if (mode === 'pen') {\n      drawing = true;\n      x0 = undefined;\n      y0 = undefined;\n    }\n  };\n\n  const defineUserUnit = (x, y, mat) => { // define part matrix in according to cursor position\n  // eslint-disable-next-line no-param-reassign\n    if (x > canv.width) { x = canv.width; }\n    // eslint-disable-next-line no-param-reassign\n    if (y > canv.height) { y = canv.height; }\n    userUnitX = Math.ceil(x / mat);\n    userUnitY = Math.ceil(y / mat);\n    /*     if (mat === 4) {\n      userUnitX = Math.ceil(x / 128);\n      userUnitY = Math.ceil(y / 128);\n    }\n    if (mat === 32) {\n      userUnitX = Math.ceil(x / 16);\n      userUnitY = Math.ceil(y / 16);\n    } */\n  };\n\n\n  /*  function debounce(f, ms) {\n    let isCooldown = false;\n    // eslint-disable-next-line func-names\n    return function () {\n      if (isCooldown) return;\n      // eslint-disable-next-line prefer-rest-params\n      f.apply(this, arguments);\n      isCooldown = true;\n      // eslint-disable-next-line no-return-assign\n      setTimeout(() => isCooldown = false, ms);\n    };\n  }\n\n  const f = () => {\n    localStorage.setItem('canvas', canv.toDataURL());\n  }; */\n\n  function stopDrawing() {\n    if (mode === 'pen') {\n      drawing = false;\n      x0 = undefined;\n      x1 = undefined;\n      y0 = undefined;\n      y1 = undefined;\n      // debounce(f, 50);\n      localStorage.setItem('canvas', canv.toDataURL());\n    }\n  }\n\n\n  // BrezAlg/////////////////////\n\n  function BrezAlg(startx, endx, starty, endy, canvas) {\n    const deltax = Math.abs(endx - startx);\n    const deltay = Math.abs(endy - starty);\n    let error = 0;\n    let deltaerr = deltay / deltax;\n    let missedY = starty;\n    let diry = endy - starty;\n    if (diry > 0) { diry = 1; }\n    if (diry < 0) { diry = -1; }\n    if (startx < endx) {\n      for (let missedX = startx; missedX <= endx; missedX += 1) {\n      //  defineUserUnit(missedX, missedY, matrix);\n        fillUnit(missedX, missedY, canvas);\n        error += deltaerr;\n        if (error >= 0.5) {\n          missedY += diry;\n          error -= 1;\n        }\n      }\n    } else if (startx > endx) {\n      for (let missedX = startx; missedX >= endx; missedX -= 1) {\n        // defineUserUnit(missedX, missedY, matrix);\n        fillUnit(missedX, missedY, canvas);\n        error += deltaerr;\n        if (error >= 0.5) {\n          missedY += diry;\n          error -= 1;\n        }\n      }\n    }\n\n    if (deltay > deltax) {\n      deltaerr = deltax / deltay;\n      let missedX = startx;\n      let dirx = endx - startx;\n      if (dirx > 0) { dirx = 1; }\n      if (dirx < 0) { dirx = -1; }\n      if (starty < endy) {\n        for (missedY = starty; missedY <= endy; missedY += 1) {\n          // defineUserUnit(missedX, missedY, matrix);\n          fillUnit(missedX, missedY, canvas);\n          error += deltaerr;\n          if (error >= 0.5) {\n            missedX += dirx;\n            error -= 1;\n          }\n        }\n      } else if (starty > endy) {\n        for (missedY = starty; missedY >= endy; missedY -= 1) {\n          // defineUserUnit(missedX, missedY, matrix);\n          fillUnit(missedX, missedY, canvas);\n          error += deltaerr;\n          if (error >= 0.5) {\n            missedX += dirx;\n            error -= 1;\n          }\n        }\n      }\n    }\n  }\n\n  const drawingProcess = (event) => {\n    if (mode === 'pen' && drawing === true) {\n      x1 = Math.ceil((event.pageX - canv.offsetLeft) / matrix);\n      y1 = Math.ceil((event.pageY - canv.offsetTop) / matrix);\n      console.log('pixel', x1, y1);\n      // defineUserUnit(x1, y1, matrix);\n      fillUnit(x1, y1, ctx);\n      if ((x0) && (y0)) { BrezAlg(x0, x1, y0, y1, ctx); }\n      x0 = x1;\n      y0 = y1;\n    }\n  };\n\n  canv.addEventListener('mousedown', startDrawing);\n  canv.addEventListener('mouseup', stopDrawing);\n  canv.addEventListener('mousemove', drawingProcess);\n  canv.addEventListener('mousedown', pickColor);\n\n\n  // / Hot keys///////////////\n\n  const hotKeys = (event) => {\n    if (event.key === 'b') {\n      paintMode();\n    }\n    if (event.key === 'p') {\n      penMode();\n    }\n    if (event.key === 'c') {\n      colPickerMode();\n    }\n  };\n\n  const body = document.getElementById('body');\n  body.addEventListener('keyup', hotKeys);\n\n  const randomBtn = document.getElementsByClassName('random-btn')[0];\n\n  const randomPhoto = () => {\n    ctx.clearRect(0, 0, canv.width, canv.height);\n    const searchText = document.getElementsByClassName('search-input')[0].value;\n    console.log('parametr', searchText);\n    const url = `https://api.unsplash.com/photos/random?query=town,${searchText}&client_id=73861cdf71d6b882af3a2077382d2a4c5b54a586b96db6ed530ac9640386e185`;\n    fetch(url)\n      .then(res => res.json())\n      .then((data) => {\n        console.log(data.urls.small);\n        console.log(url);\n        const randomImg = new Image();\n        randomImg.crossOrigin = 'Anonymous';\n        randomImg.onload = function load() {\n          resizePhoto(randomImg);\n        };\n        randomImg.src = data.urls.small;\n        localStorage.setItem('canvas', data.urls.small);\n        console.log('put in LS', data.urls.small);\n      });\n  };\n\n  randomBtn.addEventListener('click', randomPhoto);\n\n  // Grayscale //////\n  const wbBtn = document.getElementsByClassName('wb-btn')[0];\n  const grayscale = () => {\n    const imageData = ctx.getImageData(0, 0, canv.width, canv.height);\n    const { data } = imageData;\n    for (let i = 0; i < data.length; i += 4) {\n      const avg = (data[i] + data[i + 1] + data[i + 2]) / 3;\n      data[i] = avg; // red\n      data[i + 1] = avg; // green\n      data[i + 2] = avg; // blue\n    }\n    ctx.putImageData(imageData, 0, 0);\n  };\n  wbBtn.addEventListener('click', grayscale);\n};\n\nmain();\n"],"sourceRoot":""}